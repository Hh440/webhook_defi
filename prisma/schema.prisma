// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model Block {
  id          Int          @id @default(autoincrement())
  block_number String       @unique
  content     BlockContent @relation(fields: [contentId], references: [id])
  contentId   Int          @unique
}

model BlockContent {
  id                  Int           @id @default(autoincrement())
  baseFeePerGas      String
  blobGasUsed        String
  difficulty         String
  excessBlobGas      String
  extraData          String
  gasLimit           String
  gasUsed            String
  hash               String
  logsBloom          String
  miner              String
  mixHash            String
  nonce              String
  number             String
  parentBeaconBlockRoot String
  parentHash         String
  receiptsRoot       String
  sha3Uncles         String
  size               String
  stateRoot          String
  timestamp          String
  totalDifficulty    String
  transactions       Transaction[]
  block              Block?        @relation // Adding the opposite relation
}

model Transaction {
  id                   Int           @id @default(autoincrement())
  accessList          Json
  blockHash           String
  block_number         BigInt
  chainId             String
  from                String
  gas                 String
  gasPrice            String
  hash                String
  input               String
  maxFeePerGas       String
  maxPriorityFeePerGas String
  nonce               String
  to                  String
  transactionIndex    String
  type                String
  value               String
  content             BlockContent @relation(fields: [contentId], references: [id])
  contentId           Int
}
